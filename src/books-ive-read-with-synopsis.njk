---
layout: layouts/base.njk
title: Booooks
---
<section class="Grid Article space-items-lg">

  <h1>{{ title }}</h1>
  {% include "snippets/books-submenu.njk" %}

</section>

<section class="Grid Article space-items-xl mt-xl">

  {#
    col #'s from new API endpoint
    0: checkmark for recommended
    1: slug / book.gsx$slug.$t
    2: title / book.gsx$title.$t
    3: author / book.gsx$author.$t
    4: genre
    5: year
    6: start_date / book.gsx$start.$t
    7: finish_date /
    8: finish_year / book.gsx$finishdate.$t
    9: media
    10: width
    11: height
    12: drawing? / book.gsx$drawing.$t
    13: via
    14: text / book.gsx$text.$t
  #}

  {%- for book in collections.booksRead -%}
    {% set bookSlug = book.c[1].v %}
    {% set bookTitle = book.c[2].v %}
    {% set bookAuthor = book.c[3].v %}
    {% set bookGenre = book.c[4].v %}
    {% set bookYear = book.c[5].v %}
    {% set bookStartDate = book.c[6].f %}
    {% set bookFinishDate = book.c[7].f %}
    {% set bookFinishYear = book.c[8].v %}
    {% set bookMedia = book.c[9].v %}
    {% set bookWidth = book.c[10].v %}
    {% set bookHeight = book.c[11].v %}
    {% set hasDrawing = book.c[12].f %}
    {% set bookVia = book.c[13].v %}
    {% set bookDesc = book.c[14].v %}

    <figure class="">
      {%- if hasDrawing == "TRUE" -%}
        {%- set imgSrc -%}/images/books/{{ bookSlug }}.png{%- endset -%}
        <img alt="Drawing of “{{ bookTitle }}”" src="{{ imgSrc | url | safe }}">
      {%- endif -%}{# check for drawing #}
      <figcaption class="space-items-base">
        <h2><i>{{ bookTitle }}</i></h2>
        <p class="text-muted mt-xxs">{{ bookAuthor | formatAuthor }}</p>
        {%- if bookDesc -%}{{ bookDesc | markdown | safe }}{%- endif -%}
      </figcaption>
    </figure>
  {%- endfor -%}{# loop thru books #}

</section>
