{% if not collection %}{% set collection = collections.posts %}{% endif %}
<div class="Articles__list">
  {% for item in collection | reverse %}
    {#- Show draft items when on dev environment #}
    {% if (item.data.status !== "draft") or ((item.data.status === "draft") and (site.env === "dev")) %}
    <article class="Article Prose Prose--contain">
      <header class="Article__header">
        <h2 class="Article__title h1"><a href="{{ item.url | url }}">{{ item.data.title | safe }}</a></h2>
        {# TODO: Don't display meta list if unnecessary #}
        <dl class="Article__meta">
        {% if hideDate !== true %}
          <dt class="visually-hidden">Published on</dt>
          <dd><time datetime="{{ item.date | date('iso') }}">{{ item.date | date('nice') }}</time></dd>
        {% endif %}{# check whether to hide date #}
        {% if item.data.location %}
          <dt class="visually-hidden">Published in</dt>
          <dd>{{ item.data.location }}</dd>
        {% endif %}{# check for location #}
        </dl>
      </header>
      {{ item.templateContent | safe }}
      <footer class="Article__footer">
        {% set tags = item.data.tags %}
        {% include "snippets/tags-list.njk" %}
      </footer>
    </article>
    {% endif %}
  {% endfor %}
</div>
