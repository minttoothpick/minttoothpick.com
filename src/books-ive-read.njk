---
layout: layouts/base.njk
title: Books I've Read
---
<section class="Grid Article space-items-lg">
  <h1>Books I've Read</h1>
  {% include "snippets/books-submenu.njk" %}

  {#
  # Making the books data into a collection
  #
  # https://11ty.rocks/eleventyjs/collections/#collections-from-custom-data
  #}
  {# {% for book in collections.booksReading %}
    {% if loop.first %}<h2 class="h-sm">What I'm reading now</h2><ul class="mt-base" reversed>{% endif %}
    <li><i>{{ book.gsx$title.$t }}</i> by {{ book.gsx$author.$t | formatAuthor }}</li>
    {% if loop.last %}</ul>{% endif %}
  {% endfor %} #}

  {% set currentYear = "" %}
  {% for book in collections.booksRead %}
    {% set bookFinishYear = book.gsx$finishdate.$t %}
    {% if currentYear != bookFinishYear %}
      {% set currentYear = bookFinishYear %}
      {% if loop.first %}
        {# <h2 class="h-sm">What I've read in the past</h2> #}
      {% else %}
        </ul>
      {% endif %}
      <h2 class="h-sm">{{ bookFinishYear }}</h2>
      <ul class="mt-base" reversed>
    {% endif %}
    <li><i>{{ book.gsx$title.$t }}</i> by {{ book.gsx$author.$t | formatAuthor }}</li>
    {% if loop.last %}</ul>{% endif %}
  {% endfor %}

</section>
